{"version":3,"file":"dist/frontend/index.js","mappings":"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","sources":["webpack://counter/./src/frontend.js"],"sourcesContent":["\"use strict\";\n// converted to es5 for browser support reasons\n\nwindow.addEventListener(\"DOMContentLoaded\", function () {\n\tvar counters = document.querySelectorAll(\".eb-counter-wrapper  .eb-counter\");\n\tif (!counters) return;\n\n\t// function 'debounce' is used here for better performance when scroll event fires\n\tfunction debounce(func) {\n\t\tvar wait =\n\t\t\targuments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\t\tvar immediate =\n\t\t\targuments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\tvar timeout;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\n\t\t\tfunction later() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t}\n\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n\t}\n\n\t// function 'textInsideFrontEnd' is for setting the innertext depending on whether separator should be shown and which separator should be shown\n\tfunction textInsideFrontEnd(value, isShowSeparator, separator) {\n\t\treturn isShowSeparator === \"true\"\n\t\t\t? value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator)\n\t\t\t: value.toString();\n\t}\n\n\tcounters.forEach(function (counter) {\n\t\tvar shoundAnimate = false;\n\t\tvar target = +counter.getAttribute(\"data-target\");\n\t\tvar duration = +counter.getAttribute(\"data-duration\");\n\t\tvar startValue = +counter.getAttribute(\"data-startValue\");\n\t\tvar isShowSeparator = counter.getAttribute(\"data-isShowSeparator\");\n\t\tvar separator = counter.getAttribute(\"data-separator\");\n\n\t\tvar x = startValue < target ? startValue : 0;\n\t\tvar increaseBy = ((target - x) / duration) * 53;\n\n\t\tvar boundingClientRect = counter.getBoundingClientRect();\n\t\tvar halfHeight = boundingClientRect.height / 2;\n\t\tvar top = boundingClientRect.top;\n\n\t\tfunction updateCount() {\n\t\t\tx += increaseBy;\n\t\t\tcounter.innerText = textInsideFrontEnd(\n\t\t\t\tMath.floor(x),\n\t\t\t\tisShowSeparator,\n\t\t\t\tseparator\n\t\t\t);\n\n\t\t\tif (x < target) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tupdateCount();\n\t\t\t\t}, 53);\n\t\t\t} else {\n\t\t\t\tcounter.innerText = textInsideFrontEnd(\n\t\t\t\t\ttarget,\n\t\t\t\t\tisShowSeparator,\n\t\t\t\t\tseparator\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (!shoundAnimate && top + halfHeight < innerHeight) {\n\t\t\tshoundAnimate = true;\n\t\t\tupdateCount();\n\t\t}\n\n\t\tfunction handleAnimationOnScroll() {\n\t\t\tboundingClientRect = counter.getBoundingClientRect();\n\t\t\ttop = boundingClientRect.top;\n\n\t\t\tif (!shoundAnimate && top + halfHeight < innerHeight) {\n\t\t\t\tshoundAnimate = true;\n\t\t\t\tupdateCount();\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener(\"scroll\", debounce(handleAnimationOnScroll));\n\t});\n});\n"],"names":["window","addEventListener","counters","document","querySelectorAll","debounce","func","wait","arguments","length","undefined","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","textInsideFrontEnd","value","isShowSeparator","separator","toString","replace","forEach","counter","shoundAnimate","target","getAttribute","duration","startValue","x","increaseBy","boundingClientRect","getBoundingClientRect","halfHeight","height","top","updateCount","innerText","Math","floor","innerHeight","handleAnimationOnScroll"],"sourceRoot":""}